{"version":3,"file":"dist/frontend/index.js","mappings":"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","sources":["webpack://counter/./src/frontend.js"],"sourcesContent":["\"use strict\";\n// converted to es5 for browser support reasons\n\nwindow.addEventListener(\"DOMContentLoaded\", function () {\n\tvar counters = document.querySelectorAll(\".eb-counter-wrapper  .eb-counter\");\n\tif (!counters) return;\n\n\t// function 'debounce' is used here for better performance when scroll event fires\n\tfunction debounce(func) {\n\t\tvar wait =\n\t\t\targuments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\t\tvar immediate =\n\t\t\targuments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\tvar timeout;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\n\t\t\tfunction later() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t}\n\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n\t}\n\n\t// function 'textInsideFrontEnd' is for setting the innertext depending on whether separator should be shown and which separator should be shown\n\tfunction textInsideFrontEnd(value, isShowSeparator, separator) {\n\t\treturn isShowSeparator === \"true\"\n\t\t\t? value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator)\n\t\t\t: value.toString();\n\t}\n\n\tcounters.forEach(function (counter) {\n\t\tvar shoundAnimate = false;\n\t\tvar target = +counter.getAttribute(\"data-target\");\n\t\tvar duration = +counter.getAttribute(\"data-duration\");\n\t\tvar startValue = +counter.getAttribute(\"data-startValue\");\n\t\tvar isShowSeparator = counter.getAttribute(\"data-isShowSeparator\");\n\t\tvar separator = counter.getAttribute(\"data-separator\");\n\n\t\tvar x = startValue < target ? startValue : 0;\n\t\tvar increaseBy = ((target - x) / duration) * 53;\n\n\t\tvar boundingClientRect = counter.getBoundingClientRect();\n\t\tvar halfHeight = boundingClientRect.height / 2;\n\t\tvar top = boundingClientRect.top;\n\n\t\tfunction updateCount() {\n\t\t\tx += increaseBy;\n\t\t\tcounter.innerText = textInsideFrontEnd(\n\t\t\t\tMath.floor(x),\n\t\t\t\tisShowSeparator,\n\t\t\t\tseparator\n\t\t\t);\n\n\t\t\tif (x < target) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tupdateCount();\n\t\t\t\t}, 53);\n\t\t\t} else {\n\t\t\t\tcounter.innerText = textInsideFrontEnd(\n\t\t\t\t\ttarget,\n\t\t\t\t\tisShowSeparator,\n\t\t\t\t\tseparator\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (!shoundAnimate && top + halfHeight < innerHeight) {\n\t\t\tshoundAnimate = true;\n\t\t\tupdateCount();\n\t\t}\n\n\t\tfunction handleAnimationOnScroll() {\n\t\t\tboundingClientRect = counter.getBoundingClientRect();\n\t\t\ttop = boundingClientRect.top;\n\n\t\t\tif (!shoundAnimate && top + halfHeight < innerHeight) {\n\t\t\t\tshoundAnimate = true;\n\t\t\t\tupdateCount();\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener(\"scroll\", debounce(handleAnimationOnScroll));\n\t});\n});\n"],"names":["window","addEventListener","counters","document","querySelectorAll","debounce","func","wait","arguments","length","undefined","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","textInsideFrontEnd","value","isShowSeparator","separator","toString","replace","forEach","counter","shoundAnimate","target","getAttribute","duration","startValue","x","increaseBy","boundingClientRect","getBoundingClientRect","halfHeight","height","top","updateCount","innerText","Math","floor","innerHeight","handleAnimationOnScroll"],"sourceRoot":""}